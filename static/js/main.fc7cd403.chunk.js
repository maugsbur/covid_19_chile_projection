(this.webpackJsonpcovid_19_chile_projection=this.webpackJsonpcovid_19_chile_projection||[]).push([[0],{172:function(e,t,n){e.exports=n(360)},177:function(e,t,n){},178:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},179:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(14),c=n.n(r),i=(n(177),n(178),n(179),n(48)),s=n(76),l=n(130),u=n(131),m=n(143),f=n(142),h=n(7),d=n(79),p="https://staging-chile-coronapi.herokuapp.com/api/v3",y=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:"nothing yet",cases:{"03/07/2020":{confirmed:"none",fecha:"none"}},regions:{},region:{_id:1,region:"Tarapac\xe1"},regionCases:{"03/07/2020":{confirmed:"none",fecha:"none"}},commune:{_id:1101,commune:"Iquique"},communeCases:{confirmed:"none"}},e.covidChart=function(e){return a.a.createElement(h.d,{width:"95%",height:400},a.a.createElement(h.b,{data:e,margin:{top:10,right:30,left:0,bottom:0}},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"colorConfirmados",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),a.a.createElement("linearGradient",{id:"colorMuertes",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})),a.a.createElement("linearGradient",{id:"color47*muertes",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#ed503b",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#ed503b",stopOpacity:0})),a.a.createElement("linearGradient",{id:"colorCasos+10d\xedas",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#e8e838",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#e8e838",stopOpacity:0}))),a.a.createElement(h.f,{dataKey:"fecha"}),a.a.createElement(h.g,{type:"number"}),a.a.createElement(h.c,{strokeDasharray:"3 3"}),a.a.createElement(h.e,null),a.a.createElement(h.a,{type:"monotone",dataKey:"confirmados",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorConfirmados)"}),a.a.createElement(h.a,{type:"monotone",dataKey:"muertes",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorMuertes)"}),a.a.createElement(h.a,{type:"monotone",dataKey:"47*muertes",stroke:"#ed503b",fillOpacity:1,fill:"url(#color47*muertes)"}),a.a.createElement(h.a,{type:"monotone",dataKey:"casos + 10 d\xedas",stroke:"#e8e838",fillOpacity:1,fill:"url(#colorCasos+10d\xedas)"})))},e.covidChartCommunes=function(e){var t=Object.keys(e).map((function(t){return{confirmed:e[t],fecha:t}}));return a.a.createElement(h.d,{width:"95%",height:400},a.a.createElement(h.b,{data:t,margin:{top:10,right:30,left:0,bottom:0}},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"colorConfirmed",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0}))),a.a.createElement(h.f,{dataKey:"fecha"}),a.a.createElement(h.g,{type:"number"}),a.a.createElement(h.c,{strokeDasharray:"3 3"}),a.a.createElement(h.e,null),a.a.createElement(h.a,{type:"monotone",dataKey:"confirmed",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorConfirmed)"})))},e.renameKeys=function(e,t){return Object.keys(t).reduce((function(n,o){return Object(s.a)(Object(s.a)({},n),Object(i.a)({},e[o]||o,t[o]))}),{})},e.formatData=function(t){Object.keys(t).map((function(e){return t[e].fecha=e})),(t=Object.values(t)).map((function(e){return e["47*muertes"]=47*e.deaths})),t.map((function(e,n){e["casos + 10 d\xedas"]=n<10?0:t[n-10].confirmed}));var n=[];return t.map((function(t){n.push(e.renameKeys({confirmed:"confirmados",deaths:"muertes"},t))})),n},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(p+"/historical/nation").then((function(e){return e.json()})).then((function(t){return e.setState({cases:t})})),fetch(p+"/models/regions").then((function(e){return e.json()})).then((function(e){return Object.values(e)})).then((function(t){return e.setState({regions:t})})),fetch(p+"/models/communes").then((function(e){return e.json()})).then((function(e){return Object.values(e)})).then((function(t){return e.setState({communes:t})})),fetch(p+"/historical/regions?id="+this.state.region._id).then((function(e){return e.json()})).then((function(e){return e.regionData})).then((function(t){return e.setState({regionCases:t})})),fetch(p+"/historical/communes?id="+this.state.commune._id).then((function(e){return e.json()})).then((function(e){return e.confirmed})).then((function(t){return e.setState({communeCases:t})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.region!=this.state.region&&fetch(p+"/historical/regions?id="+this.state.region._id).then((function(e){return e.json()})).then((function(e){return e.regionData})).then((function(e){return n.setState({regionCases:e})})),t.commune!=this.state.commune&&fetch(p+"/historical/communes?id="+this.state.commune._id).then((function(e){return e.json()})).then((function(e){return e.confirmed})).then((function(e){return n.setState({communeCases:e})}))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("h1",null,"Nacional"),this.covidChart(this.formatData(this.state.cases)),a.a.createElement("h1",null,"Regional"),a.a.createElement(d.a,{placeholder:this.state.region.region,options:this.state.regions,getOptionLabel:function(e){return e.region},getOptionValue:function(e){return e.region},onChange:function(t){e.setState({region:t})}}),this.covidChart(this.formatData(this.state.regionCases)),a.a.createElement("h1",null,"Comunal"),a.a.createElement(d.a,{placeholder:this.state.commune.commune,options:this.state.communes,getOptionLabel:function(e){return e.commune},getOptionValue:function(e){return e.commune},onChange:function(t){e.setState({commune:t})}}),this.covidChartCommunes(this.state.communeCases))}}]),n}(o.Component);var g=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[172,1,2]]]);
//# sourceMappingURL=main.fc7cd403.chunk.js.map